# 第13回ハンズオン：Linuxカーネルに触れる

## 概要

Linuxカーネルのソースコードを取得し、最小構成でのコンパイルを体験した後、カーネルモジュールを自作してロードする。UNIXの設計原則がLinuxカーネルにどう継承されているかを、手を動かして理解する。

## 演習一覧

| 演習 | 内容                                | 所要時間 |
| ---- | ----------------------------------- | -------- |
| 1    | カーネルバージョンの確認と/proc探索 | 5分      |
| 2    | カーネルソースコードの構造探索      | 10分     |
| 3    | カーネルの最小構成コンパイル        | 15分     |
| 4    | カーネルモジュールの自作とロード    | 10分     |
| 5    | /procファイルシステムとの対話       | 5分      |

## 動作環境

- Docker（ubuntu:24.04イメージ）
- `--privileged` フラグが必要（カーネルモジュールのロードのため）
- ディスク空き容量：約5GB（カーネルソースのクローンとビルド）
- メモリ：2GB以上推奨

## セットアップ

```bash
# 自動セットアップスクリプトの実行
bash setup.sh
```

または手動で:

```bash
docker run -it --rm --privileged ubuntu:24.04 bash
```

## 学べること

- Linuxカーネルのソースツリーの構造（arch/, drivers/, fs/, kernel/等）
- モノリシックカーネルの設計と、ドライバがコードの大部分を占める構造
- VFS（Virtual File System）層によるファイルシステム抽象化
- ローダブルカーネルモジュール（LKM）の作成・ロード・アンロード
- /procファイルシステムを通じたカーネル内部状態の参照
- `tinyconfig` による最小構成カーネルのビルド

## 注意事項

- カーネルモジュールのロードには `--privileged` フラグが必要
- カーネルソースのクローンにはネットワーク接続が必要
- ビルドにはCPUとディスクのリソースを消費する
