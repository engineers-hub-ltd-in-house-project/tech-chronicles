# 第5回ハンズオン：CVSの弱点を体験する

## 概要

第5回「CVSの栄光と限界——SourceForge時代の記憶」に対応するハンズオン演習。

CVSの四大構造的弱点——アトミックコミットの不在、ディレクトリのバージョン管理不可、リネーム非対応、バイナリファイル扱いの問題——を実際の操作で体験する。「できること」ではなく「できないこと」を知ることで、CVSの設計上の限界を理解し、後続のバージョン管理システムが何を解決しようとしたかを把握する。

## 学べること

- CVSのコミットがファイル単位で逐次処理される（アトミックでない）ことの確認
- ディレクトリの削除が不可能であること、Atticディレクトリの仕組み
- ファイルリネーム時に変更履歴の連続性が失われること
- バイナリファイルに対するキーワード展開によるデータ破損

## 動作環境

- Linux（Ubuntu 24.04 推奨）
- macOS（Homebrew で `brew install cvs`）
- Windows（WSL2 推奨）

Docker を使う場合:

```bash
docker run -it --rm ubuntu:24.04 bash
apt update && apt install -y cvs
```

## 実行方法

```bash
bash setup.sh
```

## 演習内容

| 演習 | テーマ                   | 概要                                                        |
| ---- | ------------------------ | ----------------------------------------------------------- |
| 1    | アトミックコミットの不在 | 複数ファイルのコミットが逐次処理されることを確認            |
| 2    | ディレクトリ削除不能     | ファイル削除後もリポジトリにディレクトリが残ることを確認    |
| 3    | リネームと履歴の断絶     | ファイルリネーム後に変更履歴が引き継がれないことを確認      |
| 4    | バイナリファイルの破損   | キーワード展開によるバイナリデータの破損と -kb による回避策 |

## 前提知識

第4回のハンズオン（CVSの基本操作：init、import、checkout、commit、update）を完了していること。
