# ハンズオン: マイクロサービスとクラウド——分散システムの光と影

**クラウドの考古学 第19回 対応ハンズオン**

## 概要

Docker Composeで3つのマイクロサービス（注文・在庫・決済）を構築し、サービス間通信の挙動、カスケード障害、サーキットブレーカーパターンの動作を体験する。

## 学べること

- マイクロサービス間のHTTP通信とネットワークレイテンシーの影響
- カスケード障害のメカニズム（1つのサービス障害がシステム全体に波及する過程）
- サーキットブレーカーパターンの3状態（CLOSED→OPEN→HALF-OPEN）と自律回復
- 障害シミュレーション（遅延、エラー、間欠障害）による耐障害性の検証
- 補償トランザクションの必要性（決済失敗時の在庫戻し）

## 演習一覧

| 演習  | 内容                                           | 所要時間 |
| ----- | ---------------------------------------------- | -------- |
| 演習1 | マイクロサービスの構築と正常系通信             | 10分     |
| 演習2 | カスケード障害とサーキットブレーカーの動作確認 | 15分     |

## 動作環境

- Docker 24.0以上
- Docker Compose v2以上
- curl
- Python 3.x（JSONの整形表示用）
- 空きポート: 5000, 5001, 5002

## セットアップ

```bash
./setup.sh
```

## クリーンアップ

```bash
cd "${HOME}/cloud-history-handson-19"
docker compose down
cd ~
rm -rf "${HOME}/cloud-history-handson-19"
```
