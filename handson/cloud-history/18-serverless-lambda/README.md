# 第18回ハンズオン：サーバーレス（Lambda）——サーバが「見えない」世界

## 概要

LocalStackを使い、ローカル環境でAWS Lambdaの動作を再現する。サーバーレスの四つの設計原則——イベント駆動、関数単位のデプロイ、自動スケーリング、ゼロへのスケールダウン——を体験し、コールドスタートの挙動を観察する。

## 学べること

- Lambda関数の作成・デプロイ・呼び出しの基本ワークフロー
- S3イベント駆動によるLambda関数の自動起動
- SQSキューとLambdaの統合（非同期処理パターン）
- コールドスタートとウォームスタートの違い
- 実行環境の再利用メカニズム

## 演習一覧

| 演習  | 内容                       | 学習ポイント                         |
| ----- | -------------------------- | ------------------------------------ |
| 演習1 | Lambda関数の作成と呼び出し | 基本的なFaaSの動作                   |
| 演習2 | S3イベント → Lambda        | イベント駆動アーキテクチャ           |
| 演習3 | SQSキュー → Lambda         | 非同期処理パターン、自動スケーリング |
| 演習4 | コールドスタートの観察     | 実行環境の初期化と再利用             |

## 動作環境

- Docker および Docker Compose
- AWS CLI v2
- Python 3.12（Lambda関数のランタイム）
- bash（セットアップスクリプト実行用）

## 使い方

```bash
# 自動セットアップ
chmod +x setup.sh
./setup.sh

# 手動クリーンアップ
docker compose down
rm -rf "${HOME}/cloud-history-handson-18"
```

## 注意事項

- LocalStackはAWSサービスのエミュレーションであり、本番のAWS Lambdaとは挙動が異なる場合がある
- 特にコールドスタートの計測は、本番環境では異なる結果になる（Firecrackerの起動オーバーヘッドがLocalStackでは再現されない）
- Docker Desktopのリソース割り当てが少ないとLocalStackの起動に時間がかかる場合がある
