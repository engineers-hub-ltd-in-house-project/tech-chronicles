# 第10回ハンズオン：UNIX哲学の功罪――「一つのことをうまくやれ」は本当に正しいか

## 概要

同じデータ処理タスクを古典的UNIXパイプライン、jq、構造化パイプラインの三つのアプローチで実装し、可読性・堅牢性・保守性を比較するハンズオン。テキストストリームの構造的限界とパイプラインのエラー処理問題を体験し、構造化データパイプラインの利点を理解する。

## 演習一覧

| 演習  | 内容                                             | 所要時間 |
| ----- | ------------------------------------------------ | -------- |
| 演習1 | テキストパイプラインの限界を体験する             | 5分      |
| 演習2 | JSONログをsed/awk vs jqで処理する                | 5分      |
| 演習3 | パイプラインのエラー処理を検証する               | 5分      |
| 演習4 | jqの高度なパイプライン――構造化データの組み合わせ | 5分      |

## 学べること

- テキストパイプラインがファイル名のスペースやロケール変更で壊れる様子
- sed/awkによるJSON処理の脆弱性とjqによる堅牢な代替
- UNIXパイプラインのエラー処理のデフォルト動作とpipefailの限界
- jqによる構造化データの集計・変換
- 古典的パイプラインと構造化パイプラインの設計思想の違い

## 動作環境

- Docker（ubuntu:24.04イメージ）
- bash
- jq（演習中にインストール）
- GNU coreutils（grep, sed, awk, sort, uniq等）

## 実行方法

```bash
# セットアップスクリプトで全演習を自動実行
bash setup.sh

# または Docker 上で直接実行
docker run --rm -it ubuntu:24.04 bash
# コンテナ内で各演習のコマンドを手動実行
```

## ライセンス

MIT
